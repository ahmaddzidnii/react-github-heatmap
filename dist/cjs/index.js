"use strict";var n=require("react/jsx-runtime"),e=require("classnames"),t=require("react-tooltip"),r=require("react"),a=function(){return a=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var a in e=arguments[t])Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n},a.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var o=function(n){var e=new Date(n),t=e.getDate(),r=new Intl.DateTimeFormat("en-US",{month:"long"}).format(e),a=t%10==1&&11!==t?"st":t%10==2&&12!==t?"nd":t%10==3&&13!==t?"rd":"th";return"".concat(r," ").concat(t).concat(a)},i=[{level:0,name:"No contributions."},{level:1,name:"Low contributions."},{level:2,name:"Medium-low contributions."},{level:3,name:"Medium-high contributions."},{level:4,name:"High contributions."}],l=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];!function(n,e){void 0===e&&(e={});var t=e.insertAt;if("undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css","top"===t&&r.firstChild?r.insertBefore(a,r.firstChild):r.appendChild(a),a.styleSheet?a.styleSheet.cssText=n:a.appendChild(document.createTextNode(n))}}('[data-level="0"] {\n  background-color: #ebedf0;\n}\n\n[data-level="1"] {\n  background-color: #9be9a8;\n}\n\n[data-level="2"] {\n  background-color: #40c463;\n}\n\n[data-level="3"] {\n  background-color: #30a14e;\n}\n\n[data-level="4"] {\n  background-color: #216e39;\n}\n\n.sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.contribution-graph {\n  border: 1px solid #e1e4e8;\n  border-radius: 6px;\n  padding: 16px;\n  width: max-content;\n}\n\n.contribution-graph__container {\n  display: flex;\n  flex-direction: column;\n}\n\n.contribution-graph__table-wrapper {\n  overflow-x: auto;\n  overflow-y: hidden;\n  max-width: calc(100vw - 32px);\n}\n\n.contribution-graph__table {\n  width: max-content;\n  overflow: hidden;\n  position: relative;\n  border-collapse: separate;\n  padding: 0 16px 0 16px;\n}\n\n.contribution-graph__months-row {\n  height: 13px;\n}\n\n.contribution-graph__day-label {\n  width: 12px;\n}\n\n.contribution-graph__month {\n  font-size: 12px;\n  padding: 0.125rem 0.5rem 0.125rem 0;\n}\n\n.contribution-graph__week-row {\n  height: 10px;\n}\n\n.contribution-graph__day-label-wrapper {\n  position: relative;\n  width: 28px;\n  text-align: right;\n}\n\n.contribution-graph__day-label {\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n  left: 0px;\n  font-size: 12px;\n  padding: 0.125rem 0.5rem 0.125rem 0;\n  -webkit-transform: translateY(-50%);\n  -moz-transform: translateY(-50%);\n  -ms-transform: translateY(-50%);\n  -o-transform: translateY(-50%);\n}\n\n.contribution-graph__cell {\n  width: 10px;\n  height: 10px;\n  border-radius: 3px;\n  -webkit-border-radius: 3px;\n  -moz-border-radius: 3px;\n  -ms-border-radius: 3px;\n  -o-border-radius: 3px;\n  outline: 1px solid rgba(27, 31, 35, 0.06);\n  outline-offset: -1px;\n}\n\n.contribution-graph__legend {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding-left: 48px;\n  padding-right: 16px;\n  margin-top: 0.25rem;\n}\n\n.contribution-graph__legend-text {\n  font-size: 12px;\n}\n\n.contribution-graph__legend-scale {\n  display: flex;\n  align-items: center;\n}\n\n.contribution-graph__legend-box {\n  width: 10px;\n  height: 10px;\n  border-radius: 3px;\n  -webkit-border-radius: 3px;\n  -moz-border-radius: 3px;\n  -ms-border-radius: 3px;\n  -o-border-radius: 3px;\n  outline: 1px solid rgba(27, 31, 35, 0.06);\n  outline-offset: -1px;\n  margin-right: 0.25rem;\n}\n\n.contribution-graph__legend-label {\n  font-size: 12px;\n}\n\n.mr-1 {\n  margin-right: 0.25rem;\n}\n');exports.ReactGithubHeatmap=function(c){var s=c.tooltipContent,d=void 0===s?function(n){return n.contributions?"".concat(n.contributions," contributions on ").concat(o(n.date)):"No contributions on ".concat(o(n.date))}:s,p=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]])}return t}(c,["tooltipContent"]),u=function(n){var e=n.endDate,t=new Date(e);for(t.setDate(e.getDate()-364);0!==t.getDay();)t.setDate(t.getDate()-1);return{startDate:t,endDate:e}}({endDate:new Date}),h=u.startDate,g=u.endDate,b=p.startDate?new Date(p.startDate):h,m=p.endDate?new Date(p.endDate):g,x=p.data||[],f=function(n){if(!n)return"";var e="".concat(n.getFullYear(),"-").concat(String(n.getMonth()+1).padStart(2,"0"),"-").concat(String(n.getDate()).padStart(2,"0")),t=x.find((function(n){return n.date===e}))||{date:e,contributions:null};return d(t)},_=r.useMemo((function(){var n=x.filter((function(n){return n.contributions>0})).map((function(n){return n.contributions}));if(0===n.length)return{level1:1,level2:2,level3:3};var e=Math.max.apply(Math,n);return{level1:Math.ceil(.25*e),level2:Math.ceil(.5*e),level3:Math.ceil(.75*e)}}),[x]),v=r.useCallback((function(n){if(!n)return 0;var e=n.toISOString().split("T")[0],t=x.find((function(n){return n.date===e}));return t&&0!==t.contributions?t.contributions<=_.level1?1:t.contributions<=_.level2?2:t.contributions<=_.level3?3:4:0}),[x,_]),y=function(n,e){for(var t=Array.from({length:7},(function(){return Array(53).fill(null)})),r=new Date(n),a=0,o=r.getDay();r<=e&&a<53;)t[o][a]=new Date(r),r.setDate(r.getDate()+1),0===r.getDay()&&a++,o=6===o?0:o+1;return t}(b,m),w=function(n,e){var t=[],r=new Date(n);r.setFullYear(r.getFullYear()+1),e>r&&(e=r);var a=[],o=new Date(n);for(o.setDate(1);o<=e;)a.push({name:new Intl.DateTimeFormat("en-US",{month:"long"}).format(o),year:o.getFullYear(),days:new Date(o.getFullYear(),o.getMonth()+1,0).getDate()}),o=new Date(o.getFullYear(),o.getMonth()+1,1);for(var i=a.reduce((function(n,e){return n+e.days}),0),l=53,c=0;c<a.length;c++){var s=a[c];if(c===a.length-1)t.push({name:s.name,year:s.year,colSpan:l});else{var d=Math.round(s.days/i*53);d=Math.max(1,d),d=Math.min(d,l-(a.length-c-1)),t.push({name:s.name,year:s.year,colSpan:d}),l-=d}}return t}(b,m);return n.jsx("div",{className:"contribution-graph",children:n.jsxs("div",{className:"contribution-graph__container",children:[n.jsxs("div",{className:"contribution-graph__table-wrapper",children:[n.jsxs("table",{className:"contribution-graph__table",children:[n.jsx("caption",{className:"sr-only",children:"Contribution Graph"}),n.jsx("thead",{children:n.jsxs("tr",{className:"contribution-graph__months-row",children:[n.jsx("td",{className:" contribution-graph__day-label",children:n.jsx("span",{className:"sr-only",children:"Day of Week"})}),w.map((function(e,t){return n.jsxs("td",{colSpan:e.colSpan,className:"contribution-graph__month",children:[n.jsx("span",{className:"sr-only",children:e.name}),n.jsx("span",{children:e.name.slice(0,3)})]},"".concat(e.name,"-").concat(e.year,"-").concat(t))}))]})}),n.jsx("tbody",{children:y.map((function(t,r){return n.jsxs("tr",{className:"contribution-graph__week-row",children:[n.jsx("td",{className:"contribution-graph__day-label-wrapper",children:n.jsx("span",{className:e("contribution-graph__day-label",{"sr-only":r%2!=1}),children:l[r]})}),t.map((function(e,t){return e?n.jsx("td",{tabIndex:0,"data-level":v(e),"data-date":"".concat(e.getFullYear(),"-").concat(String(e.getMonth()+1).padStart(2,"0"),"-").concat(String(e.getDate()).padStart(2,"0")),"data-tooltip-id":"tooltip","data-tooltip-content":f(e),className:"contribution-graph__cell"},t):n.jsx("td",{},t)}))]},r)}))})]}),n.jsx(t.Tooltip,a({id:"tooltip"},p.tooltipOptions))]}),n.jsxs("div",{className:"contribution-graph__legend",children:[n.jsx("span",{className:"contribution-graph__legend-text",children:"Learn how we count contributions"}),n.jsxs("div",{className:"contribution-graph__legend-scale",children:[n.jsx("span",{className:"contribution-graph__legend-label mr-1",children:"Less"}),i.map((function(e){return n.jsx("div",{"data-level":e.level,className:"contribution-graph__legend-box",children:n.jsx("span",{className:"sr-only",children:e.name})},e.level)})),n.jsx("span",{className:"contribution-graph__legend-label",children:"More"})]})]})]})})};
//# sourceMappingURL=index.js.map
